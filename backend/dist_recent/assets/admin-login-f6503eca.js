import{u as f,r as d,j as e,B as j,a as w,W as y}from"./index-a42fac35.js";import{T as l,L as I,b as S}from"./css-d2993a26.js";import{L as b}from"./logo-930822f9.js";import{S as c,I as v,C}from"./iconify-d347a262.js";import{I as L,a as T}from"./InputAdornment-f011141f.js";import{T as k}from"./Typography-e8e340d9.js";import"./Button-e684f2b7.js";import"./Paper-045d3c87.js";import"./Link-e71238e1.js";function D(){const m=f(),[t,p]=d.useState(!1),[o,r]=d.useState({userid:"",password:""});function i(s){const n={...o};n[s.target.name]=s.target.value,r(n)}const h=async s=>{s.preventDefault(),console.log(o);try{const a=await(await fetch("https://jmleadership.pythonanywhere.com/adminlogin/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).json();if(console.log(a),a.message==="success"){console.log("로그인성공");const{token:u,name:x}=a;console.log(x),localStorage.setItem("admin",u),window.location.href="/adminpage"}else window.alert("ID or password is incorrect"),r({userid:"",password:""})}catch(n){window.alert("not match"),console.error("오류:",n)}},g=e.jsxs(e.Fragment,{children:[e.jsxs(c,{spacing:3,children:[e.jsx(l,{name:"userid",label:"admin ID",value:o.userid,onChange:s=>i(s),required:!0}),e.jsx(l,{value:o.password,name:"password",label:"Password",type:t?"text":"password",onChange:s=>i(s),InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(T,{onClick:()=>p(!t),edge:"end",children:e.jsx(v,{icon:t?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(I,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:h,children:"Login"})]});return e.jsxs(j,{sx:{...S({color:w(m.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(b,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(c,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(C,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(k,{variant:"h4",children:"ADMIN Sign in"}),g]})})]})}function q(){return e.jsxs(e.Fragment,{children:[e.jsx(y,{children:e.jsx("title",{children:" Login "})}),e.jsx(D,{})]})}export{q as default};
